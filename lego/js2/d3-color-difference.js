!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],a):a(t.d3=t.d3||{},t.d3)}(this,function(t,R){"use strict";function M(t,a,h,e,M,r){return Math.sqrt(Math.pow(t-e,2)+Math.pow(a-M,2)+Math.pow(h-r,2))}function a(t,a){return t=R.lab(t),a=R.lab(a),M(t.l,t.a,t.b,a.l,a.a,a.b)}function h(b,p,w){return b=void 0!==b?b:1,p=void 0!==p?p:.045,w=void 0!==w?w:.015,function(t,a){var h=R.lab(t),e=R.lab(a),M=h.l,r=h.a,n=h.b,o=Math.sqrt(r*r+n*n),i=e.l,c=e.a,f=e.b,l=Math.sqrt(c*c+f*f),s=Math.pow(M-i,2),d=Math.pow(o-l,2),u=Math.pow(r-c,2)+Math.pow(n-f,2)-d;return Math.sqrt(s/Math.pow(b,2)+d/Math.pow(1+p*o,2)+u/Math.pow(1+w*o,2))}}var e=h();function r(G,L,O){return G=void 0!==G?G:1,L=void 0!==L?L:1,O=void 0!==O?O:1,function(t,a){var h=R.lab(t),e=R.lab(a),M=h.l,r=h.a,n=h.b,o=Math.sqrt(r*r+n*n),i=e.l,c=e.a,f=e.b,l=(o+Math.sqrt(c*c+f*f))/2,s=.5*(1-Math.sqrt(Math.pow(l,7)/(Math.pow(l,7)+Math.pow(25,7)))),d=r*(1+s),u=c*(1+s),b=Math.sqrt(d*d+n*n),p=Math.sqrt(u*u+f*f),w=Math.abs(d)+Math.abs(n)===0?0:Math.atan2(n,d);w+=2*(w<0)*Math.PI;var v=Math.abs(u)+Math.abs(f)===0?0:Math.atan2(f,u);v+=2*(v<0)*Math.PI;var P=i-M,I=p-b,q=b*p==0?0:v-w;q-=2*(q>Math.PI)*Math.PI,q+=2*(q<-Math.PI)*Math.PI;var g,C=2*Math.sqrt(b*p)*Math.sin(q/2),x=(M+i)/2,E=(b+p)/2;b*p==0?g=w+v:(g=(w+v)/2,g-=(Math.abs(w-v)>Math.PI)*Math.PI,g+=2*(g<0)*Math.PI);var m=Math.pow(x-50,2),y=1-.17*Math.cos(g-Math.PI/6)+.24*Math.cos(2*g)+.32*Math.cos(3*g+Math.PI/30)-.2*Math.cos(4*g-63*Math.PI/180),W=1+.015*m/Math.sqrt(20+m),j=1+.045*E,D=1+.015*E*y,H=30*Math.PI/180*Math.exp(-1*Math.pow((180/Math.PI*g-275)/25,2)),_=2*Math.sqrt(Math.pow(E,7)/(Math.pow(E,7)+Math.pow(25,7))),B=-1*Math.sin(2*H)*_;return Math.sqrt(Math.pow(P/(G*W),2)+Math.pow(I/(L*j),2)+Math.pow(C/(O*D),2)+B*I/(L*j)*C/(O*D))}}var n=r();function o(I,q){return I=void 0!==I?I:1,q=void 0!==q?q:1,function(t,a){var h=R.lab(t),e=R.lab(a),M=h.l,r=h.a,n=h.b,o=Math.sqrt(r*r+n*n),i=Math.atan2(n,r);i+=2*Math.PI*(i<0);var c=e.l,f=e.a,l=e.b,s=Math.sqrt(f*f+l*l),d=Math.pow(M-c,2),u=Math.pow(o-s,2),b=Math.pow(r-f,2)+Math.pow(n-l,2)-u,p=Math.sqrt(Math.pow(o,4)/(Math.pow(o,4)+1900)),w=M<16?.511:.040975*M/(1+.01765*M),v=.0638*o/(1+.0131*o)+.638,P=v*(p*(i>=164/180*Math.PI&&i<=345/180*Math.PI?.56+Math.abs(.2*Math.cos(i+168/180*Math.PI)):.36+Math.abs(.4*Math.cos(i+35/180*Math.PI)))+1-p);return Math.sqrt(d/Math.pow(I*w,2),u/Math.pow(q*v,2),b/Math.pow(P,2))}}var i=o(),c=26/180*Math.PI,f=Math.cos(c),l=Math.sin(c),s=100/Math.log(1.39);function d(t,a,h){var e=s/h*Math.log(1+.0039*t.l);if(0===t.a&&0===t.b)return R.lab(e,0,0);var M=t.a*f+t.b*l,r=.83*(t.b*f-t.a*l),n=Math.sqrt(M*M+r*r),o=Math.log(1+.075*n)/(.0435*a*h),i=(Math.atan2(r,M)+c)/Math.PI*180;return R.lab(e,o*Math.cos(i/180*Math.PI),o*Math.sin(i/180*Math.PI))}function u(h,e){return h=void 0!==h?h:1,e=void 0!==e?e:1,function(t,a){return t=d(R.lab(t),h,e),a=d(R.lab(a),h,e),M(t.l,t.a,t.b,a.l,a.a,a.b)}}var b=u();t.differenceEuclideanRGB=function(t,a){return t=R.rgb(t),a=R.rgb(a),M(t.r,t.g,t.b,a.r,a.g,a.b)},t.differenceEuclideanLab=a,t.differenceEuclideanHcl=function(t,a){return t=R.hcl(t),a=R.hcl(a),M(t.h,t.c,t.l,a.h,a.c,a.l)},t.differenceEuclideanHsl=function(t,a){return t=R.hsl(t),a=R.hsl(a),M(t.h,t.s,t.l,a.h,a.s,a.l)},t.differenceEuclideanCubehelix=function(t,a){return t=R.cubehelix(t),a=R.cubehelix(a),M(t.h,t.s,t.l,a.h,a.s,a.l)},t.differenceCie76=a,t.differenceCie94=e,t.differenceCie94Weighted=h,t.differenceCiede2000=n,t.differenceCiede2000Weighted=r,t.differenceCmc=i,t.differenceCmcWeighted=o,t.differenceDin99o=b,t.differenceDin99oWeighted=u,Object.defineProperty(t,"__esModule",{value:!0})});